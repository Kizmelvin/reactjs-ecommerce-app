{"version":3,"sources":["components/Filter.js","util.js","components/Product.js","components/Cart.js","App.js","index.js"],"names":["Filter","className","this","props","count","value","sort","onChange","handleSort","size","handleSize","Component","formatCurrency","num","Number","parseFloat","toFixed","Product","openModal","product","setState","closeModal","state","bottom","cascade","products","map","href","id","onClick","src","image","alt","title","console","log","price","addToCart","isOpen","onRequestClose","ariaHideApp","description","Cart","handleInput","e","target","name","createOder","preventDefault","order","email","address","cartItem","standardPay","loading","body","tx_ref","shortid","generate","amount","reduce","a","c","currency","redirect_url","payment_options","meta","consumer_id","consumer_mac","customer","phonenumber","phone","customizations","logo","fetch","method","headers","Accept","JSON","stringify","then","res","json","data","window","location","link","catch","error","showCheckout","length","left","item","removeCartItem","clearCart","right","type","required","typeof","disabled","App","alert","event","filter","sizes","indexOf","slice","x","localStorage","setItem","cleaCart","alreadyInCart","forEach","push","getItem","parse","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.f46a8062.chunk.js","sourcesContent":["import React, { Component } from 'react'\r\n\r\nexport class Filter extends Component {\r\n    render() {\r\n        return (\r\n            <div className=\"filter\">\r\n            <div className=\"filter-result\">\r\n                {this.props.count} Products\r\n            </div>\r\n            <div className=\"filter-sort\">\r\n                Order{\" \"}\r\n                <select value={this.props.sort} onChange={this.props.handleSort}>\r\n                    <option value=\"Latest\">Latest</option>\r\n                    <option value=\"Lowest\">Lowest</option>\r\n                    <option value=\"Highest\">Highest</option>\r\n                </select>\r\n            </div>\r\n            <div className = \"filter-size\">\r\n                Filter {\" \"}\r\n                <select value={this.props.size} onChange={this.props.handleSize}>\r\n                    <option value=\"\">All</option>\r\n                    <option value=\"S\">S</option>\r\n                    <option value=\"M\">M</option>\r\n                    <option value=\"L\">L</option>\r\n                    <option value=\"XL\">XL</option>\r\n                    <option value=\"XXL\">XXL</option>\r\n                </select>\r\n            </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Filter\r\n","// import React from 'react'\r\n\r\nexport default function formatCurrency(num) {\r\n\r\n    return \"#\" + Number.parseFloat(num).toFixed();\r\n}\r\n","import React, { Component } from \"react\";\r\nimport formatCurrency from \"../util\";\r\nimport Fade from \"react-reveal/Fade\";\r\nimport Zoom from \"react-reveal/Zoom\";\r\nimport Modal from \"react-modal\";\r\n\r\nexport class Product extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      product: null,\r\n    };\r\n  }\r\n  openModal = (product) => {\r\n    this.setState({\r\n      product: product,\r\n    });\r\n  };\r\n  closeModal = () => {\r\n    this.setState({\r\n      product: null,\r\n    });\r\n  };\r\n  render() {\r\n    const { product } = this.state;\r\n    return (\r\n      <div>\r\n        <Fade bottom cascade>\r\n          <ul className=\"products\">\r\n            {this.props.products.map((product) => (\r\n              <li key={product.id}>\r\n                <div className=\"product\">\r\n                  <a\r\n                    href={\"#\" + product.id}\r\n                    onClick={() => this.openModal(product)}\r\n                  >\r\n                    <img src={product.image} alt={product.title} />\r\n                    {console.log(product.image)}\r\n                    <p>{product.title}</p>\r\n                  </a>\r\n                  <div className=\"product-price\">\r\n                    <div>{formatCurrency(product.price)}</div>\r\n                    <button\r\n                      onClick={() => this.props.addToCart(product)}\r\n                      className=\"button-primary\"\r\n                    >\r\n                      Add To Cart\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              </li>\r\n            ))}\r\n          </ul>\r\n        </Fade>\r\n        {product && (\r\n          <Modal\r\n            isOpen={true}\r\n            onRequestClose={this.closeModal}\r\n            ariaHideApp={false}\r\n          >\r\n            <Zoom>\r\n              <button className=\"close-modal\" onClick={this.closeModal}>\r\n                x\r\n              </button>\r\n              <div className=\"product-details\">\r\n                <img src={product.image} alt={product.title} />\r\n                <div className=\"product-detail-description\">\r\n                  <p>\r\n                    <strong>{product.title}</strong>\r\n                  </p>\r\n                  <p>{product.description}</p>\r\n                </div>\r\n                <div className=\"product-price\">\r\n                  <div>{formatCurrency(product.price)}</div>\r\n                  <button\r\n                    className=\"button-primary\"\r\n                    onClick={() => {\r\n                      this.props.addToCart(product);\r\n                      this.closeModal();\r\n                    }}\r\n                  >\r\n                    Add To Cart\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            </Zoom>\r\n          </Modal>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Product;\r\n","import React, { Component } from \"react\";\r\nimport formatCurrency from \"../util\";\r\nimport Fade from \"react-reveal/Fade\";\r\nimport shortid from \"shortid\";\r\n// import fx from './logo/fx2.png'\r\n\r\nexport default class Cart extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      name: \"\",\r\n      email: \"\",\r\n      address: \"\",\r\n      phone: \"\",\r\n      showCheckout: false,\r\n      loading: false,\r\n    };\r\n  }\r\n  handleInput = (e) => {\r\n    this.setState({\r\n      [e.target.name]: e.target.value,\r\n    });\r\n  };\r\n  createOder = (e) => {\r\n    e.preventDefault();\r\n    const order = {\r\n      name: this.state.name,\r\n      email: this.state.email,\r\n      address: this.state.address,\r\n      cartItem: this.props.cartItem,\r\n    };\r\n    this.props.createOder(order);\r\n  };\r\n\r\n  standardPay = () => {\r\n    this.setState({\r\n      loading: true,\r\n    });\r\n    const cartItem = this.props.cartItem;\r\n    const body = {\r\n      tx_ref: shortid.generate(),\r\n\r\n      amount: cartItem.reduce((a, c) => a + c.price * c.count, 0),\r\n      currency: \"NGN\",\r\n      redirect_url: \"https://react-profile-page.herokuapp.com/\",\r\n      payment_options: \"card\",\r\n      meta: {\r\n        consumer_id: 23,\r\n        consumer_mac: \"92a3-912ba-1192a\",\r\n      },\r\n      customer: {\r\n        email: this.state.email,\r\n        phonenumber: this.state.phone,\r\n        name: this.state.name,\r\n      },\r\n      customizations: {\r\n        title: \"Blinkz Fashion Payments\",\r\n        description: \"It isn't free. Pay the price\",\r\n        logo: \"https://assets.piedpiper.com/logo.png\",\r\n      },\r\n    };\r\n    fetch(\"https://hostedpay.glitch.me/pay\", {\r\n      method: \"POST\",\r\n      headers: {\r\n        Accept: \"application/json\",\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then((res) => res.json())\r\n      .then((data) => {\r\n        window.location.href = data.data.link;\r\n        this.setState({\r\n          loading: false,\r\n        });\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n      });\r\n  };\r\n  render() {\r\n    const { cartItem } = this.props;\r\n    const loading = this.state.loading;\r\n    return (\r\n      <div>\r\n        {cartItem.length === 0 ? (\r\n          <div className=\"cart cart-header\">Cart is empty </div>\r\n        ) : (\r\n          <div className=\"cart cart-header\">\r\n            {cartItem.length} item(s) in the Cart{\"\"}\r\n          </div>\r\n        )}\r\n\r\n        <div>\r\n          <div className=\"cart\">\r\n            <Fade left cascade>\r\n              <ul className=\"cart-items\">\r\n                {cartItem.map((item) => (\r\n                  <li key={item.id}>\r\n                    <div>\r\n                      <img src={item.image} alt={item.title}></img>\r\n                    </div>\r\n                    <div>\r\n                      <div>{item.title}</div>\r\n                      <div className=\"right\">\r\n                        {formatCurrency(item.price)} x {item.count}\r\n                        <button\r\n                          className=\"remove-btn\"\r\n                          onClick={() => this.props.removeCartItem(item)}\r\n                        >\r\n                          Remove\r\n                        </button>\r\n                      </div>\r\n                    </div>\r\n                  </li>\r\n                ))}\r\n              </ul>\r\n            </Fade>\r\n          </div>\r\n          {cartItem.length !== 0 && (\r\n            <div>\r\n              <div className=\"cart-footer\">\r\n                <div className=\"cart-total\">\r\n                  <h2>\r\n                    Total:{\" \"}\r\n                    {formatCurrency(\r\n                      cartItem.reduce((a, c) => a + c.price * c.count, 0)\r\n                    )}\r\n                  </h2>\r\n                </div>\r\n                <div></div>\r\n                <div className=\"footer-btn\">\r\n                  <button\r\n                    className=\"button-primary\"\r\n                    onClick={this.props.clearCart}\r\n                  >\r\n                    Clear Cart\r\n                  </button>\r\n                  <button\r\n                    className=\"button-primary\"\r\n                    onClick={() =>\r\n                      this.setState({\r\n                        showCheckout: true,\r\n                      })\r\n                    }\r\n                  >\r\n                    Proceed\r\n                  </button>\r\n                </div>\r\n              </div>\r\n              {this.state.showCheckout && (\r\n                <Fade right cascade>\r\n                  <div className=\"cart\">\r\n                    <form>\r\n                      {loading && (\r\n                        <div>\r\n                          {/* <img src={fx} alt=\"\"/> */}\r\n                          loading...\r\n                        </div>\r\n                      )}\r\n\r\n                      <ul className=\"form-container\">\r\n                        <li>\r\n                          <label>Name</label>\r\n                          <input\r\n                            type=\"text\"\r\n                            name=\"name\"\r\n                            required\r\n                            onChange={this.handleInput}\r\n                          />\r\n                        </li>\r\n                        <li>\r\n                          <label>Email</label>\r\n                          <input\r\n                            type=\"email\"\r\n                            name=\"email\"\r\n                            required\r\n                            onChange={this.handleInput}\r\n                          />\r\n                        </li>\r\n                        <li>\r\n                          <label>Phone</label>\r\n                          <input\r\n                            type=\"number\"\r\n                            name=\"phone\"\r\n                            required\r\n                            onChange={this.handleInput}\r\n                          />\r\n                        </li>\r\n                        <li>\r\n                          <label>Address</label>\r\n                          <input\r\n                            typeof=\"text\"\r\n                            name=\"address\"\r\n                            required\r\n                            onChange={this.handleInput}\r\n                          />\r\n                        </li>\r\n                        <li>\r\n                          <button\r\n                            onClick={this.standardPay}\r\n                            className=\"button-primary\"\r\n                            disabled={loading}\r\n                          >\r\n                            Pay Now\r\n                          </button>\r\n                        </li>\r\n                      </ul>\r\n                    </form>\r\n                  </div>\r\n                </Fade>\r\n              )}\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, {Component} from 'react'\r\nimport Filter from './components/Filter';\r\nimport Product from './components/Product';\r\nimport data from \"./data.json\"\r\nimport Cart from \"./components/Cart\"\r\n\r\nclass App extends Component {\r\n  constructor(){\r\n    super();\r\n    this.state = {\r\n      products: data.product,\r\n      size: \"\",\r\n      cartItem: localStorage.getItem(\"cartItem\") \r\n      ? JSON.parse(localStorage.getItem(\"cartItem\")) \r\n      : [],\r\n      sort: \"\"\r\n    }\r\n  }\r\n  createOder = (order) => {\r\n    alert(\"Need to be saved for \" + order.name)\r\n  }\r\n  handleSort = (event) => {\r\n    console.log(event.target.value);\r\n    // const sort = event.target.value;\r\n    // this.setState((state) => ({\r\n    //   sort:sort,\r\n    //   products:this.state.products\r\n    //   .slice()\r\n    //   .sort((a, b) =>\r\n    //      sort === \"lowest\"\r\n    //       ? a.price > b.price\r\n    //       ? 1\r\n    //       : -1\r\n    //       : sort === \"highest\"\r\n    //       ? a.price < b.price\r\n    //       ? 1\r\n    //       : -1\r\n    //       : sort ===\"\" \r\n    //       ? a_id > b.id\r\n    //       ? 1\r\n    //       : -1\r\n        \r\n    //   )\r\n      \r\n    // }))\r\n    \r\n  }\r\n  handleSize = (event) =>{\r\n    console.log(event.target.value);\r\n    if(event.target.value=== \"\"){\r\n      this.setState({\r\n        products:data.product,\r\n        size: \"\"\r\n      })\r\n      }else{\r\n        this.setState({\r\n          size: event.target.value,\r\n          products: data.product.filter((product) =>product.sizes.indexOf(event.target.value) >=0),\r\n        });\r\n    }\r\n  }\r\n  removeCartItem = (product) =>{\r\n    const cartItem = this.state.cartItem.slice();\r\n    this.setState({\r\n      cartItem: cartItem.filter((x) =>x.id !== product.id),\r\n    })\r\n    localStorage.setItem(\"cartItem\", JSON.stringify(cartItem.filter((x) =>x.id !== product.id)))\r\n  }\r\n  cleaCart = () =>{\r\n    // const cartItem = this.state.cartItem.slice();\r\n    this.setState({\r\n      cartItem: []})\r\n  }\r\n  addToCart = (product) =>{\r\n    const cartItem = this.state.cartItem.slice();\r\n    let alreadyInCart = false;\r\n    cartItem.forEach((item) =>{\r\n      if(item.id === product.id){\r\n        item.count ++;\r\n        alreadyInCart = true\r\n      }\r\n    });\r\n    if(!alreadyInCart){\r\n      cartItem.push({...product, count: 1});\r\n    }\r\n    this.setState({cartItem})\r\n    localStorage.setItem(\"cartItem\", JSON.stringify(cartItem))\r\n  }\r\n  render(){\r\n    return (\r\n      <div className=\"grid-container\">\r\n        <header>\r\n          <a href = \"./\">\r\n          Blinkz Fashion\r\n          </a>\r\n        </header>\r\n        <main>\r\n         <div className=\"content\">\r\n           <div className= \"main\">\r\n             <Filter count ={this.state.products.length}\r\n             size={this.state.size} sort={this.state.sort} \r\n             handleSort={this.handleSort}\r\n             handleSize={this.handleSize}/>\r\n             <Product addToCart={this.addToCart} products={this.state.products} />\r\n           </div>\r\n           <div className=\"sidebar\">\r\n             <Cart \r\n             createOder ={this.createOder}\r\n             cartItem ={this.state.cartItem}\r\n             removeCartItem={this.removeCartItem}\r\n             clearCart={this.cleaCart} />\r\n           </div>\r\n         </div>\r\n        </main>\r\n        <footer>\r\n          All rights is reserved\r\n        </footer>\r\n      </div>\r\n    )\r\n  }\r\n \r\n}\r\n\r\nexport default App\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n "],"sourceRoot":""}